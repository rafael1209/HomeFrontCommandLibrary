using HomeFrontCommandLibrary.Enums;
using HomeFrontCommandLibrary.Interfaces;
using HomeFrontCommandLibrary.Models;
using HomeFrontCommandLibrary.Services;

namespace HomeFrontCommandLibrary;

public class HomeFrontCommand : IHomeFrontCommand
{
    private static readonly ICacheService MemoryCache = new CacheService();
    private readonly IAlertService _alertService = new AlertService();
    private readonly ICategoryService _categoryService = new CategoryService(MemoryCache);
    private readonly ICityService _cityService = new CityService(MemoryCache);

    public async Task<Alert> GetActiveAlert(Language language = Language.Hebrew)
    {
        var activeAlerts = await _alertService.GetCurrentAlert();

        if (activeAlerts?.Title == null)
        {
            return new Alert
            {
                Category = null,
                Cities = null,
                AlertDate = DateTime.Now,
            };
        }

        var cities = await Task.WhenAll(
            activeAlerts.Data.Select(name => _cityService.GetCityByName(name, language))
        );

        var alert = new Alert
        {
            Category = await _categoryService.GetCategoryByName(activeAlerts.Title, language),
            Cities = cities.ToList(),
            AlertDate = DateTime.Now
        };

        return alert;
    }

    public async Task<List<AlertHistory>> GetAlertsHistory(Language language = Language.Hebrew)
    {
        var alertsHistory = await _alertService.GetAlertsHistory();

        var alerts = await Task.WhenAll(alertsHistory.Select(async alert =>
            new AlertHistory
            {
                Category = await _categoryService.GetCategoryByName(alert.Title, language),
                City = await _cityService.GetCityByName(alert.Data, language),
                AlertDate = alert.AlertDate
            }
        ));

        return alerts.ToList();
    }

    public async Task<City> GetCityByName(string name, Language language = Language.Hebrew)
    {
        var city = await _cityService.GetCityByName(name, language);

        return city;
    }

    public async Task<Category> GetCategoryByName(string name, Language language = Language.Hebrew)
    {
        var category = await _categoryService.GetCategoryByName(name, language);

        return category;
    }

    public async Task<Alert> GetActiveAlertExample(string categoryName, Language language = Language.Hebrew)
    {
        var category = await _categoryService.GetCategoryByName(categoryName, language);

        var allCities = new List<string>
        {
            "בית אורן",
            "בית אלפא וחפציבה",
            "בית ג'אן",
            "בית הלל",
            "בית העמק",
            "בית השיטה",
            "בית חנניה",
            "בית יוסף",
            "בית לחם הגלילית",
            "בית שאן",
            "בית שערים",
            "בלפוריה",
            "בן עמי",
            "בנימינה",
            "בסמת טבעון",
            "בענה",
            "ג'דידה מכר",
            "ג'סר א-זרקא",
            "ג'ת",
            "גבעת אלה",
            "גבעת וולפסון",
            "גבעת ניל''י",
            "גבעת עדה",
            "גבת",
            "גלעד",
            "גן השומרון",
            "גן שמואל",
            "גניגר",
            "גשר הזיו",
            "גשר",
            "דברת",
            "דחי",
            "דיר אל-אסד",
            "דליה",
            "דלית אל כרמל",
            "דמיידה",
            "הושעיה",
            "החותרים",
            "הילה",
            "הסוללים",
            "הר חלוץ",
            "הרדוף",
            "זכרון יעקב",
            "זרזיר",
            "חג'אג'רה",
            "חוות אירוח גורן",
            "חוות עדן",
            "חוסן",
            "חמדיה",
            "חמת גדר",
            "חנתון",
            "חצור הגלילית",
            "חרשים",
            "טבריה",
            "טובא זנגריה",
            "טייבה בגלבוע",
            "טירת כרמל",
            "טירת צבי",
            "טמרה בגלבוע",
            "טמרה",
            "יגור",
            "יובלים",
            "יודפת",
            "יסעור",
            "יעד",
            "יפיע",
            "יפעת",
            "יקנעם המושבה והזורע",
            "יקנעם עילית",
            "ירדנה",
            "כאבול",
            "כאוכב אבו אלהיג'א",
            "כורזים ורד הגליל",
            "כעביה טבאש",
            "כעביה",
            "כפר גדעון",
            "כפר גלים",
            "כפר גליקסון",
            "כפר גלעדי",
            "כפר גמילה מלכישוע",
            "כפר החורש",
            "כפר הנשיא",
            "כפר ורדים",
            "כפר חסידים",
            "כפר טבאש",
            "כפר יהושע",
            "כפר יובל",
            "כפר כנא",
            "כפר מנדא",
            "כפר מסריק",
            "כפר נהר הירדן",
            "כפר פינס",
            "כפר רופין",
            "כפר תקווה",
            "כרכום",
            "כרמיאל",
            "לב החולה",
            "לבון",
            "להבות חביבה",
            "מג'דל כרום",
            "מגדל העמק",
            "מגל",
            "מדרך עוז",
            "מולדת",
            "מורשת",
            "מזרע",
            "מחניים",
            "מטולה",
            "מייסר",
            "מירב",
            "מלון אחוזת ירדן",
            "מנוף",
            "מנרה",
            "מנשית זבדה",
            "מסילות",
            "מעגן מיכאל",
            "מעוז חיים",
            "מעונה",
            "מעיין ברוך",
            "מעיין צבי",
            "מעיליא",
            "מעלה גלבוע",
            "מעלות תרשיחא",
            "מצפה אבי''ב",
            "מצפה",
            "מצר",
            "מרגליות",
            "מרחביה מושב",
            "מרחביה קיבוץ",
            "מרכז אזורי משגב",
            "משגב עם",
            "משהד",
            "משמר העמק",
            "משמרות",
            "נאעורה",
            "נהלל",
            "נהריה",
            "נוה איתן",
            "נווה אור",
            "נוף הגליל",
            "נופית",
            "נחף",
            "נין",
            "ניר דוד",
            "נס עמים",
            "נצרת",
            "נתיב השיירה",
            "סאג'ור",
            "סולם",
            "סער",
            "עברון",
            "עדי",
            "עילוט",
            "עין אל אסד",
            "עין המפרץ",
            "עין הנצי''ב",
            "עין העמק",
            "עין השופט",
            "עין מאהל",
            "עין עירון",
            "עין שמר",
            "עכו - אזור תעשייה",
            "עכו",
            "עמיעד",
            "עמיקם",
            "עספיא",
            "עפולה",
            "עצמון - שגב",
            "ערב אל נעים",
            "פרדס חנה כרכור",
            "צורית גילון",
            "ציפורי",
            "צפת - עיר",
            "קורנית",
            "קיבוץ מגידו",
            "קיסריה",
            "קריית טבעון - בית זייד",
            "קריית שמונה",
            "ראמה",
            "ראס עלי",
            "ראש פינה",
            "רגבים",
            "רחוב",
            "ריינה",
            "רכסים",
            "רמות מנשה",
            "רמת דוד",
            "רמת השופט",
            "רמת ישי",
            "רמת צבי",
            "רקפת",
            "רשפים",
            "שבי ציון",
            "שדה אליהו",
            "שדה יעקב",
            "שדה נחום",
            "שדות ים",
            "שדי תרומות",
            "שומרת",
            "שורשים",
            "שזור",
            "שייח' דנון",
            "שכניה",
            "שלוחות",
            "שמשית",
            "שעב",
            "שער העמקים",
            "שפרעם",
            "שריד",
            "תל חי",
            "תל עדשים",
            "תל תאומים",
            "תמרת",
            "אבו סנאן",
            "אבטליון",
            "אביבים",
            "אבירים",
            "אבן מנחם",
            "אבני איתן",
            "אדמית",
            "אודם",
            "אום אל פחם",
            "אום אל קוטוף",
            "אור הגנוז",
            "אורטל",
            "אזור תעשייה ניר עציון",
            "אזור תעשייה קדמת גליל",
            "אזור תעשייה רמת דלתון",
            "אזור תעשייה תרדיון",
            "איזור תעשייה מילואות צפון",
            "איילת השחר",
            "אילון",
            "אילניה",
            "אל עריאן",
            "אל רום",
            "אלומות",
            "אלוני הבשן",
            "אלי עד",
            "אלקוש",
            "אמירים",
            "אניעם",
            "אפיק",
            "אפיקים",
            "ארבל",
            "אשבל",
            "אשדות יעקב",
            "אשחר",
            "אשרת",
            "אתר ההנצחה גולני",
            "בועיינה-נוג'ידאת",
            "בוקעתא",
            "בית העלמין החדש עכו",
            "בית זרע",
            "בית ירח",
            "בית סוהר צלמון",
            "בית סוהר קישון",
            "בית ספר שדה מירון",
            "בית צבי",
            "בית קשת",
            "בית רימון",
            "בני יהודה וגבעת יואב",
            "בצת",
            "בר יוחאי",
            "ברטעה",
            "ברעם",
            "ברקאי",
            "בת שלמה",
            "ג'וליס",
            "ג'ש - גוש חלב",
            "גבע כרמל",
            "גבעת אבני",
            "גבעת חביבה",
            "גבעת עוז",
            "גדות",
            "גדעונה",
            "גונן",
            "גורן",
            "גורנות הגליל",
            "גזית",
            "גינוסר",
            "גיתה",
            "גן נר",
            "גני חוגה",
            "געתון",
            "גשור",
            "דבוריה",
            "דגניה א",
            "דגניה ב",
            "דוב''ב",
            "דור",
            "דיר חנא",
            "דישון",
            "דלתון",
            "דפנה",
            "האון",
            "הבונים",
            "הגושרים",
            "הודיות",
            "הזורעים",
            "היוגב",
            "הררית יחד",
            "ואדי אל חמאם",
            "זרעית",
            "חד נס",
            "חולתה",
            "חוסנייה",
            "חוף אמנון",
            "חוף בצת",
            "חוף גולן, צאלון",
            "חוף גופרה",
            "חוף כורסי, לבנון, חלוקים",
            "חוף כינר, דוגה, דוגית",
            "חוף סוסיתא",
            "חוקוק",
            "חורפיש",
            "חזון",
            "חניתה",
            "חספין",
            "חריש",
            "טבחה",
            "טורעאן",
            "טל - אל",
            "טפחות",
            "יבנאל",
            "יונתן",
            "יזרעאל",
            "יחיעם",
            "ינוח ג'ת",
            "יסוד המעלה",
            "יערה",
            "יפתח",
            "יראון",
            "ירכא",
            "ישובי אומן",
            "ישובי יעל",
            "כברי",
            "כדורי",
            "כחל",
            "כינרת מושבה",
            "כינרת קבוצה",
            "כישור",
            "כליל",
            "כלנית",
            "כמון",
            "כנף",
            "כסרא סמיע",
            "כפר בלום",
            "כפר ברוך",
            "כפר הנוער ימין אורד",
            "כפר זיתים",
            "כפר חיטים",
            "כפר חנניה",
            "כפר חרוב",
            "כפר יאסיף",
            "כפר יחזקאל",
            "כפר כמא",
            "כפר מצר",
            "כפר נחום",
            "כפר סאלד",
            "כפר קיש",
            "כפר קרע",
            "כפר שמאי",
            "כפר תבור",
            "כרם בן זמרה",
            "כרם מהר''ל",
            "לביא",
            "לבנים",
            "להבות הבשן",
            "לוחמי הגטאות",
            "לוטם וחמדון",
            "לימן",
            "לפידות",
            "מאור",
            "מאיר שפיה",
            "מבוא חמה",
            "מג'דל שמס",
            "מגדים",
            "מגדל תפן",
            "מגדל",
            "מגן שאול",
            "מועאוויה",
            "מוקיבלה",
            "מורן",
            "מזרעה",
            "מי עמי",
            "מיצר",
            "מירון",
            "מכמנים",
            "מלון פרא",
            "מלכיה",
            "מנות",
            "מנחמיה",
            "מסד",
            "מסדה",
            "מסעדה",
            "מע'אר",
            "מעגן",
            "מעלה גמלא",
            "מעלה עירון",
            "מעלה צביה",
            "מענית",
            "מצובה",
            "מצפה אילן",
            "מצפה נטופה",
            "מרום גולן",
            "מרכז אזורי מבואות חרמון",
            "מרכז אזורי מרום גליל",
            "מרכז חבר",
            "מרכז מיר''ב",
            "משמר הירדן",
            "מתחם סקי גלבוע",
            "מתחם שביל התפוזים",
            "מתת",
            "נאות גולן",
            "נאות מרדכי",
            "נבי שועייב",
            "נוב",
            "נווה אטי''ב",
            "נווה זיו",
            "נווה ים",
            "נורית",
            "נחשולים",
            "נטועה",
            "נטור",
            "ניר עציון",
            "נמרוד",
            "סאסא",
            "סכנין",
            "סלמה",
            "סנדלה",
            "ספסופה - כפר חושן",
            "ע'ג'ר",
            "עבדון",
            "עוזייר",
            "עופר",
            "עילבון",
            "עין איילה",
            "עין אל סהלה",
            "עין גב",
            "עין דור",
            "עין הוד",
            "עין זיוון",
            "עין חוד",
            "עין חרוד",
            "עין יעקב",
            "עין כמונים",
            "עין כרמל",
            "עין קנייא",
            "עינבר",
            "עלמה",
            "עמוקה",
            "עמיר",
            "עמקה",
            "עראבה",
            "ערב אל עראמשה",
            "ערערה",
            "עתלית",
            "פוריה כפר עבודה",
            "פוריה נווה עובד",
            "פוריה עילית",
            "פוריידיס",
            "פלך",
            "פסוטה",
            "פקיעין החדשה",
            "פקיעין",
            "פרוד",
            "צבעון",
            "צומת בנימינה",
            "צוריאל",
            "צמח",
            "צרופה",
            "קבוצת גבע",
            "קדיתא",
            "קדמת צבי",
            "קדרים",
            "קיבוץ דן",
            "קצרין - אזור תעשייה",
            "קצרין",
            "קשת",
            "ראס אל-עין",
            "ראש הנקרה",
            "רביד",
            "רגבה",
            "רומאנה",
            "רומת אל הייב",
            "ריחאנייה",
            "רם און",
            "רמות נפתלי",
            "רמות",
            "רמת מגשימים",
            "רפטינג נהר הירדן",
            "שאר ישוב",
            "שבלי",
            "שדה אילן",
            "שדה אליעזר",
            "שדה יצחק",
            "שדה נחמיה",
            "שדמות דבורה",
            "שומרה",
            "שלומי",
            "שלפים",
            "שמיר",
            "שניר",
            "שעל",
            "שער הגולן",
            "שער מנשה",
            "שפר",
            "שרונה",
            "שתולה",
            "תובל",
            "תחנת רכבת כפר ברוך",
            "תל יוסף",
            "תל קציר",
            "תלמי אלעזר",
            "אום אלג'נם",
            "אזור תעשייה בני יהודה",
            "אזור תעשייה מבואות הגלבוע",
            "אזור תעשייה ציפורית",
            "אזור תעשייה רגבים",
            "בית סוהר מגידו",
            "בית סוהר שיטה וגלבוע",
            "בית ספר אורט בנימינה",
            "בית עלמין תל רגב",
            "ח'וואלד",
            "חוואלד",
            "יערות הכרמל",
            "כלא דמון",
            "מנחת מחניים",
            "מרכז ימי קיסריה",
            "סואעד חמירה",
            "קציר",
            "רוויה",
            "רמת הנדיב",
            "תחנת רכבת כפר יהושוע",
            "ירושלים - אזור תעשייה עטרות",
            "ירושלים - דרום",
            "ירושלים - כפר עקב",
            "ירושלים - מזרח",
            "ירושלים - מערב",
            "ירושלים - מרכז",
            "ירושלים - צפון",
            "תל אביב - דרום העיר ויפו",
            "תל אביב - מזרח",
            "תל אביב - מרכז העיר",
            "תל אביב - עבר הירקון",
            "אביחיל",
            "אור יהודה",
            "אזור תעשייה עד הלום",
            "אזור",
            "אשדוד - א,ב,ד,ה",
            "אשדוד - איזור תעשייה צפוני",
            "אשדוד - ג,ו,ז",
            "אשדוד - ח,ט,י,יג,יד,טז",
            "אשדוד -יא,יב,טו,יז,מרינה,סיטי",
            "בני ברק",
            "בני דרום",
            "בת ים",
            "גבעת השלושה",
            "גבעת חן",
            "גבעת שמואל",
            "גבעתיים",
            "גיבתון",
            "גמזו",
            "גן שלמה",
            "גת רימון",
            "הרצליה - מערב",
            "הרצליה - מרכז וגליל ים",
            "חולון",
            "חשמונאים",
            "יהוד מונוסון",
            "כפר דניאל",
            "כפר סירקין",
            "כפר רות",
            "כפר שמריהו",
            "לפיד",
            "מבוא חורון",
            "מבוא מודיעים",
            "מודיעין - ליגד סנטר",
            "מודיעין מכבים רעות",
            "מודיעין עילית",
            "מעש",
            "מקווה ישראל",
            "מתתיהו",
            "נוף איילון",
            "ניר גלים",
            "נצר סרני",
            "נתניה - מזרח",
            "נתניה - מערב",
            "סביון",
            "פארק תעשיות פלמחים",
            "פלמחים",
            "פתח תקווה",
            "קריית אונו",
            "ראשון לציון - מזרח",
            "ראשון לציון - מערב",
            "רחובות",
            "רמת גן - מזרח",
            "רמת גן - מערב",
            "רמת השרון",
            "רעננה",
            "שושנת העמקים",
            "שילת",
            "שעלבים",
            "אביגדור",
            "אבן שמואל",
            "אורות",
            "אורנית",
            "אזור תעשייה באר טוביה",
            "אזור תעשייה נשר - רמלה",
            "אזור תעשייה קריית גת",
            "אזור תעשייה רגמ",
            "אחווה",
            "אחוזם",
            "אחיסמך",
            "אייל",
            "אירוס",
            "איתן",
            "אל עזי",
            "אלישמע",
            "אלעד",
            "באר טוביה",
            "באר יעקב",
            "בארות יצחק",
            "בית אלעזרי",
            "בית ברל",
            "בית זית",
            "בית חלקיה",
            "בית חנן",
            "בית נקופה",
            "בית עובד",
            "בן שמן",
            "בני דרור",
            "בני עטרות",
            "בני ראם",
            "ג'לג'וליה",
            "גאולים",
            "גאליה",
            "גבעת כ''ח",
            "גדרה",
            "גינתון",
            "גן חיים",
            "גן שורק",
            "גני טל",
            "גני עם",
            "גני תקווה",
            "גת",
            "הוד השרון",
            "הר אדר",
            "חגור",
            "חורשים",
            "חפץ חיים",
            "חרות",
            "טייבה",
            "טירה",
            "יבנה",
            "יד בנימין",
            "ינון",
            "יעף",
            "ירחיב",
            "ירקונה",
            "ישרש",
            "כוכב יאיר - צור יגאל",
            "כפר אחים",
            "כפר ברא",
            "כפר הנגיד",
            "כפר הס",
            "כפר הרי''ף וצומת ראם",
            "כפר ורבורג",
            "כפר יעבץ",
            "כפר מל''ל",
            "כפר מנחם",
            "כפר נוער בן שמן",
            "כפר סבא",
            "כפר עבודה",
            "כפר קאסם",
            "לוד",
            "מבשרת ציון",
            "מגשימים",
            "מוצא עילית",
            "מזור",
            "מעלה החמישה",
            "מצליח",
            "משמרת",
            "מתן",
            "נווה ימין",
            "נווה ירק",
            "נועם",
            "נופך",
            "נחלים",
            "נחשונים",
            "נטעים",
            "ניר אליהו",
            "ניר צבי",
            "נירית",
            "נס ציונה",
            "עדנים",
            "עוזה",
            "עזריאל",
            "עיינות",
            "עין ורד",
            "עין שריד",
            "עינת",
            "ערוגות",
            "פורת",
            "פנימיית עין כרם",
            "פרדסיה",
            "צובה",
            "צופית",
            "צור יצחק",
            "צור משה",
            "צור נתן",
            "קדימה צורן",
            "קדרון",
            "קלנסווה",
            "קריית גת, כרמי גת",
            "קריית מלאכי",
            "קריית ענבים",
            "ראש העין",
            "רבדים",
            "רינתיה",
            "רמות השבים",
            "רמלה",
            "רמת הכובש",
            "שדה ורבורג",
            "שדה משה",
            "שדי חמד",
            "שלווה",
            "שער אפרים",
            "תחנת רכבת ראש העין",
            "תימורים",
            "תל מונד",
            "תלמי יחיאל",
            "תעשיון חצב",
            "תעשיון צריפין",
            "אבו נוור",
            "אביעזר",
            "אבן יהודה",
            "אדרת",
            "אודים",
            "אזור תעשייה הר טוב - צרעה",
            "אזור תעשייה חבל מודיעין",
            "אזור תעשייה כנות",
            "אזור תעשייה מישור אדומים",
            "אזור תעשייה רבדים",
            "אחיעזר",
            "אלון שבות",
            "אלעזר",
            "אלפי מנשה",
            "אלקנה",
            "אפרת",
            "ארסוף",
            "אשתאול",
            "ביצרון",
            "בית גמליאל",
            "בית דגן",
            "בית חשמונאי",
            "בית יהושע",
            "בית נחמיה",
            "בית עוזיאל",
            "בית עריף",
            "בית שמש",
            "ביתר עילית",
            "בן זכאי",
            "בני עי''ש",
            "בני ציון",
            "בניה",
            "בצרה",
            "בקוע",
            "ברקן",
            "ברקת",
            "בת עין",
            "גבעון החדשה",
            "גבעות עדן",
            "גבעת ברנר",
            "גבעת וושינגטון",
            "גבעת זאב",
            "גזר",
            "גיזו",
            "גן הדרום",
            "גן יבנה",
            "גני הדר",
            "גני יוחנן",
            "געש",
            "הר גילה",
            "הראל",
            "זיתן",
            "זנוח",
            "חדיד",
            "חוות יאיר",
            "חולדה",
            "חמד",
            "חניון הנתיב מהיר",
            "חצב",
            "חצור",
            "חרוצים",
            "טירת יהודה",
            "טל שחר",
            "יגל",
            "יד רמב''ם",
            "יסודות",
            "יציץ",
            "יקום",
            "יקיר",
            "ישעי",
            "כנות",
            "כפר אביב",
            "כפר אוריה",
            "כפר אלדד",
            "כפר ביל''ו",
            "כפר בן נון",
            "כפר חב''ד",
            "כפר טרומן",
            "כפר מרדכי",
            "כפר נטר",
            "כפר עציון",
            "כפר שמואל",
            "כרם ביבנה",
            "כרמי יוסף",
            "כרמי צור",
            "לטרון",
            "מגדל עוז",
            "מזכרת בתיה",
            "מחסיה",
            "מיני ישראל - נחשון",
            "מיצד",
            "מישר",
            "מכון וינגייט",
            "מסילת ציון",
            "מעלה אדומים",
            "מעלה עמוס",
            "מעלה רחבעם",
            "מפעל אגריגדה",
            "משגב דב",
            "משמר איילון",
            "משמר דוד",
            "משמר השבעה",
            "מתחם בני דרום",
            "נאות קדומים",
            "נבי סמואל",
            "נווה דניאל",
            "נווה מבטח",
            "נווה מיכאל - רוגלית",
            "נווה שלום",
            "נופים",
            "נוקדים",
            "נחם",
            "נחשון",
            "נען",
            "נצר חזני",
            "נתיב הל''ה",
            "סתריה",
            "עזריה",
            "עמנואל",
            "עץ אפרים",
            "עשרת",
            "פארק תעשיות מגדל עוז",
            "פדיה",
            "פני קדם",
            "פתחיה",
            "צופים",
            "צלפון",
            "צפריה",
            "צרעה",
            "קבוצת יבנה",
            "קידר",
            "קריית נטפים",
            "קריית עקרון",
            "קרני שומרון",
            "ראש צורים",
            "רבבה",
            "רטורנו - גבעת שמש",
            "רמות מאיר",
            "רשפון",
            "שדה בר",
            "שדמה",
            "שוהם",
            "שער הגיא",
            "שערי תקווה",
            "שפיים",
            "תחנת רכבת קריית מלאכי - יואב",
            "תל יצחק",
            "תלם",
            "תעוז",
            "תקוע",
            "תרום",
            "אבו גוש",
            "אבן ספיר",
            "אבני חפץ",
            "אדורה",
            "אדוריים",
            "אורה",
            "אזור תעשייה אריאל",
            "אזור תעשייה בראון",
            "אזור תעשייה ברקן",
            "אזור תעשייה גדרה",
            "אזור תעשייה טירה",
            "אזור תעשייה כפר יונה",
            "אזור תעשייה מיתרים",
            "אזור תעשייה עמק חפר",
            "אזור תעשייה שחק",
            "אזור תעשייה שער בנימין",
            "אחיטוב",
            "איתמר",
            "אלומה",
            "אלון מורה",
            "אלון",
            "אליכין",
            "אלישיב",
            "אמונים",
            "אמץ",
            "אמציה",
            "ארגמן",
            "בארותיים",
            "בורגתה",
            "בחן",
            "בית אל",
            "בית אריה",
            "בית גוברין",
            "בית הלוי",
            "בית חג\"י",
            "בית חורון",
            "בית חזון",
            "בית חרות",
            "בית ינאי",
            "בית יצחק - שער חפר",
            "בית יתיר",
            "בית מאיר",
            "בית ניר",
            "בית עזרא",
            "בית עלמין מורשה",
            "ביתן אהרן",
            "בני דקלים",
            "בקעות",
            "בר גיורא",
            "ברוכין",
            "בת חן",
            "בת חפר",
            "גאולי תימן",
            "גבע בנימין",
            "גבעת אסף",
            "גבעת הראל וגבעת הרואה",
            "גבעת חיים איחוד",
            "גבעת חיים מאוחד",
            "גבעת יערים",
            "גבעת שפירא",
            "גבעתי",
            "גיתית",
            "גלאון",
            "גלגל",
            "גן יאשיה",
            "גנות הדר",
            "גפן",
            "דולב",
            "הדר עם",
            "המעפיל",
            "המרכז האקדמי רופין",
            "העוגן",
            "הר ברכה",
            "הר עמשא",
            "ורדון",
            "זבדיאל",
            "זוהר",
            "זכריה",
            "זמר",
            "זרחיה",
            "חבצלת השרון וצוקי ים",
            "חגלה",
            "חוות גלעד",
            "חופית",
            "חיבת ציון",
            "חיננית",
            "חלמיש",
            "חמדת",
            "חמרה",
            "חניאל",
            "חרב לאת",
            "חרמש",
            "טלמון",
            "טנא עומרים",
            "יד השמונה",
            "יד חנה",
            "יד נתן",
            "ייט''ב",
            "ינוב",
            "יפית",
            "יצהר",
            "כוכב השחר",
            "כוכב יעקב",
            "כסלון",
            "כפר אדומים",
            "כפר הנוער קריית יערים",
            "כפר הרא''ה",
            "כפר ויתקין",
            "כפר זוהרים",
            "כפר חיים",
            "כפר ידידיה",
            "כפר יונה",
            "כפר מונש",
            "כפר תפוח"
        };

        var random = new Random();
        var count = random.Next(1, 51);
        var selectedCities = allCities.OrderBy(_ => random.Next()).Take(count).ToList();

        var cities = new List<City>();
        foreach (var city in selectedCities)
            cities.Add(await GetCityByName(city, language));

        var alert = new Alert
        {
            Category = category,
            Cities = cities,
            AlertDate = DateTime.Now
        };

        return alert;
    }
}